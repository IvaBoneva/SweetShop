const mongoose = require("mongoose");
const Product = require("./models/Product"); // провери правилния път до файла с модела

async function addProductIfNotExists(productData) {
  const exists = await Product.findOne({ title: productData.title });
  if (!exists) {
    await Product.create(productData);
    console.log(`Добавен продукт: ${productData.title}`);
  } else {
    console.log(
      `Продукт "${productData.title}" вече съществува, няма да се добавя повторно.`
    );
  }
}

async function testConnection() {
  try {
    await mongoose.connect("mongodb://localhost:27017/sweetshopdb", {
      useNewUrlParser: true,
      useUnifiedTopology: true,
    });
    console.log("Connected to MongoDB");

    const productsToAdd = [
      {
        title: "Морковена мечта",
        slug: "carrot_cake",
        author: "Ива Бонева",
        price: "50.00",
        image: "/images/CarrotCake.webp",
        shortDescription:
          "Морковена мечта е сочен и ароматен десерт с настъргани моркови, подправки и крем от крема сирене – идеален за всякакви поводи!",
        fullDescription: `Морковената торта е класически десерт, обичан заради своята сочност, аромат и кремообразна
текстура. Тя се приготвя с настъргани моркови, които придават естествена сладост и влага на
блата. Обикновено съдържа също така ядки (например орехи или пекани), подправки като канела,
индийско орехче и джинджифил, както и често включва кокосови стърготини или ананас за
допълнителна текстура и вкус.

Блатовете са плътни и меки, с наситен вкус, а между тях и отгоре се добавя кремообразна глазура
от крема сирене, масло и пудра захар. Някои версии включват лимонов сок или ванилия за
повече свежест.

Гарнирането често включва натрошени ядки по ръба на тортата или настъргани моркови за
декорация. Морковената торта е популярна за специални поводи и празненства, но също така се
цени като домашен десерт, който се съчетава чудесно с чаша кафе или чай.`,
        reviews: [
          "Тази морковена торта беше абсолютен хит на рождения ми ден! Блатовете бяха невероятно сочни, а кремът – перфектно балансиран, не прекалено сладък. Хареса ми, че има хрупкави орехи, които добавят чудесна текстура. Определено ще я поръчам отново!",
          "Много вкусна торта с богат вкус на подправки и моркови. Кремът от крема сирене беше чудесен, но ми се искаше блатовете да са една идея по-влажни. Въпреки това, всички вкъщи я харесаха и не остана дори трошичка!",
          "Най-добрата морковена торта, която съм опитвала! Обожавам комбинацията от канела, орехи и моркови, а глазурата беше толкова кремообразна и лека. Доставката беше бърза, а тортата – прясна. Препоръчвам с две ръце!",
        ],
      },
      {
        title: "Плодова наслада",
        slug: "fruit_cake",
        author: "Ива Бонева",
        price: "52.00",
        image: "/images/fruit_cake.jpg",
        shortDescription:
          "Плодова наслада е свеж и лек десерт с нежни блатове, крем и богатство от свежи сезонни плодове – перфектен баланс между сладост и натурална свежест!",
        fullDescription: `Тази плодова торта е двуслойна с пухкав жълт блат, който е гарниран с кремообразен пълнеж и декорация от свежи плодове. Горната част на тортата е богато украсена с цели ягоди, боровинки и малини, които добавят свежест и естествена сладост. Между двата блата има плодов конфитюр, който изглежда да е от боровинки или смесени горски плодове, придаващ на тортата богат и наситен вкус.
    
    Блатовете са леки и въздушни, а кремът е гладък и пухкав, подчертаващ плодовите аромати. Декорацията е направена с внимание към детайла, като свежите плодове са подредени върху малки върхове от крем, създавайки елегантна визия. Тази торта е перфектен избор за летен празник или специален повод.`,
        reviews: [
          "Тази торта беше истински хит на рождения ми ден! Блатовете са невероятно меки и имат леко ванилов аромат, а кремът е толкова гладък и перфектно сладък. Най-доброто обаче е свежестта на плодовете – ягодите и боровинките бяха наистина пресни и сочни.",
          "Тортата изглеждаше страхотно и беше идеална за семейната ни вечеря. Плодовете отгоре бяха пресни, а кремът беше лек и не прекалено сладък. Единствената причина да не дам пълни 5 звезди е, че бих предпочела малко по-влажни блатове.",
          "Най-добрата плодова торта, която съм опитвал! Изглежда толкова елегантно и празнично – перфектна за фотосесия и още по-добра за хапване. Комбинацията от меки блатове, богат плодов конфитюр и свежи ягоди и боровинки е просто фантастична.",
        ],
      },
      {
        title: "Шоколадов рай",
        slug: "chocolate_heaven",
        author: "Ива Бонева",
        price: "60.00",
        image: "/images/double_chocolate.jpg",
        shortDescription:
          "Торта Шоколадов рай е богат десерт с нежни шоколадови блатове и крем, изпълнен с наситен вкус – перфектно удоволствие за истинските любители на шоколада!",
        fullDescription: `Двойната шоколадова торта е истинско удоволствие за любителите на шоколада. Тя се състои от
    три богати, влажни и плътни шоколадови блата, които са пропити с дълбок какаов вкус. Между
    слоевете има гладък и кремообразен шоколадов ганаш или шоколадов маслен крем, който
    допълнително засилва интензивността на вкуса.
    
    Тортата е покрита с дебел слой нежен шоколадов крем, който има кадифена текстура и лъскав
    завършек. Вкусът е перфектен баланс между сладост и наситен шоколадов аромат, без да бъде
    прекалено тежък.
    
    Обикновено тази торта се сервира с чаша студено мляко или кафе, което подчертава вкусовете ѝ.
    Подходяща е за всякакви поводи – от рождени дни до празнични събирания, като гарантира
    незабравимо шоколадово изживяване!`,
        reviews: [
          "Мечтата на всеки шокохолик! Вкусът е дълбок, интензивен и не прекалено сладък. Комбинацията от блатовете и крема е просто идеална. Доставката беше навреме, а тортата пристигна в перфектно състояние. Определено препоръчвам!",
          "Абсолютно съвършенство за любителите на шоколада! Блатовете са изключително влажни, а кремът е кадифен и с наситен вкус на тъмен шоколад. Опитвала съм много шоколадови торти, но тази определено е една от най-добрите. Ще поръчам отново!",
          "Тортата беше много вкусна, с богат шоколадов вкус и перфектна текстура. Единствената причина да давам 4 звезди вместо 5 е, че кремът беше малко по-тежък, отколкото очаквах. Въпреки това, всички вкъщи я обожаваха и изчезна за нула време!",
        ],
      },
      {
        title: "Орео - изкушение",
        slug: "oreo_temptation",
        author: "Ива Бонева",
        price: "70.00",
        image: "/images/oreo.webp",
        shortDescription:
          "Орео - изкушение е неустоим десерт с шоколадови блатове, крем с парченца Орео и хрупкава бисквитена текстура – мечта за всеки любител на бисквитките!",
        fullDescription: `Тази торта с Oreo е перфектно балансирана комбинация от богат шоколадов вкус и кремообразна
      текстура. Тя е направена от няколко слоя тъмен, влажно шоколадов блат, редуващи се със слоеве
      от пухкав крем, който е примесен с натрошени бисквитки Oreo. Визията ѝ подчертава контраста
      между дълбокото тъмно кафяво на блата и снежно белия крем.
      
      Отгоре тортата е украсена с цели и натрошени бисквитки Oreo,
      които добавят допълнителна хрупкавост и завършват цялостния вид. Кремът е гладък и лек, с
      отчетлив вкус на ванилия и нотки от бисквитките, които са внимателно вградени във всеки слой.
      
      Тази торта е идеалният десерт за любителите на Oreo и шоколадови
      изкушения, като предлага богата текстура и наситен вкус. Тя е подходяща както за
      специални поводи, така и за ежедневни сладки моменти.`,
        reviews: [
          "Орео тортата беше абсолютно невероятна! Сочно и кремообразно изкушение, което просто се топи в устата. Слепените Орео бисквитки добавят страхотен хрупкав елемент към всяка хапка. Тортата е перфектна за всички любители на шоколад и ванилия! Уникален баланс на вкусове, който ще накара всеки да се върне за още. Препоръчвам я горещо за всеки специален повод!",
          "Много вкусна торта! Орео вкусът беше наистина добре балансиран, не беше прекалено сладка, а текстурата – просто перфектна. Единственото, което бих добавил, е малко повече крем между бисквитките, но иначе съм изключително доволен. За любителите на класическите десерти, тази торта е страхотен избор!",
          "Това е най-добрата Орео торта, която съм опитвал! Нямаше нищо, което да не ми хареса – от кремообразния вкус на ваниловото тесто до хрупкавите парченца Орео. Освен че изглежда прекрасно, тортата е и много вкусна. Приятелите ми бяха възхитени, когато я сервирах за рождения ден. Определено ще я поръчам отново!",
        ],
      },
      {
        title: "Червено кадифе",
        slug: "red_velvet",
        author: "Ива Бонева",
        price: "67.00",
        image: "/images/redVelvet_cake.jpg",
        shortDescription:
          "Червено кадифе е елегантна торта с меки червени блатове и нежен крем от крема сирене – класика с неустоим вкус и стил.",
        fullDescription: `Тортата "Червено кадифе" е класически десерт, известен със своята отличителна червена текстура
      и богат вкус. Тя се състои от няколко слоя пухкави, влажни червени блатове, които са направени с
      какао на прах, мътеница, оцет и червена хранителна боя. Вкусът на блата е леко какаов с мека
      киселинност, която се балансира идеално с кремообразната глазура.
      
      Обикновено тортата е покрита и слепена с крем от крема сирене,
      който ѝ придава неустоимо мек и леко сладък вкус с деликатна киселинност. Глазурата е пухкава и богата,
      допълваща перфектно влажността на блатовете.
      
      Червено кадифе е популярна за различни поводи като рождени дни,
      сватби и празнични събития, заради своя впечатляващ вид и изискан вкус.`,
        reviews: [
          "Тортата Червено кадифе беше просто божествена! Блатовете бяха влажни и меки, а кремът от крема сирене – леко сладък с приятна киселинност. Комбинацията беше идеално балансирана. Освен това изглеждаше невероятно – истинско бижу на масата! Определено ще поръчам отново!",
          "Тортата беше наистина вкусна, с наситен червен цвят и страхотен крем. Единствената ми забележка е, че блатовете можеха да бъдат една идея по-влажни. Въпреки това, всички гости я харесаха и свърши за минути! Ще я поръчам пак, но с надеждата да бъде още по-сочна.",
          "Опитвал съм много версии на тази торта, но тази беше истински шедьовър! Кремът беше кадифено мек, а блатовете – пухкави и перфектно изпечени. Не беше прекалено сладка, което я прави идеална за хора, които не обичат натрапчиво сладки десерти. Препоръчвам я на всеки!",
        ],
      },
      {
        title: "Бананово блаженство",
        slug: "banana_bliss",
        author: "Ива Бонева",
        price: "54.00",
        image: "/images/banana_cake.jpg",
        shortDescription:
          "Бананово блаженство е мек и ароматен десерт с натурално сладки банани, лек крем и нежен карамелен акцент – уютна наслада за всяко време на деня!",
        fullDescription: `Тази бананова торта впечатлява с богат аромат и мека текстура. Съставена е от два слоя сочен блат с пюре от зрели банани, което придава естествена сладост и плътност. В слоевете е добавено масло и щипка канела за допълнителна дълбочина на вкуса.
      
      Между блатовете и отгоре е нанесен пухкав ванилов крем с маскарпоне, който се комбинира идеално с банановия вкус. В средата има тънък слой домашен карамел, който добавя фин карамелен нюанс и леко лепкава сладост.
      
      Гарнирана с резени карамелизирани банани и лека струйка карамелов сос, тази торта е едновременно елегантна и уютна. Перфектен избор за следобедно кафе, празнично събиране или просто за удоволствие без повод.`,
        reviews: [
          "Истинско откритие! Банановият вкус е толкова автентичен, а кремът е лек и съвсем ненатрапчив. Особено ми хареса фината карамелена нотка, която прави десерта още по-специален.",
          "Тортата беше неочаквано вкусна – бананите не са ми фаворит, но тук бяха използвани толкова умело! Сочна, мека и идеално сладка. Определено ще я поръчам отново!",
          "Най-вкусната бананова торта, която съм опитвал! Карамелизираните банани отгоре добавят страхотен хрупкав елемент, а кремът просто се топи в устата. Сервирах я за гости и всички питаха откъде е!",
        ],
      },
      {
        title: "Целувчена феерия",
        slug: "meringue_dream",
        author: "Ива Бонева",
        price: "56.00",
        image: "/images/kiss.jpg",
        shortDescription:
          "Целувчена феерия е лек и ефирен десерт с хрупкави целувки, пухкав крем и плодова свежест – перфектна комбинация от текстури и вкусове.",
        fullDescription: `Тази изискана целувчена торта е съставена от няколко пласта хрупкави, ръчно приготвени целувки, които се редуват с нежни пластове сметанов крем с ванилов акцент. Във всяка хапка се усеща уникалната комбинация между хрупкавата текстура на целувките и лекотата на крема.
      
      Между слоевете са добавени пресни плодове – малини и киви – които балансират сладостта с приятна киселинност и свежест. Върху тортата са подредени мини целувки и плодове, а лека поръска от пудра захар придава завършен, празничен вид.
      
      Идеална за специални поводи, тази торта носи усещане за елегантност и лекота. Подходяща е както за летни празници, така и за романтични вечери или просто за удоволствие през уикенда.`,
        reviews: [
          "Изключително лека и вкусна! Целувките са хрупкави, но не твърди, а кремът е ефирен и нежен. Малините добавят страхотен контраст – истинско удоволствие.",
          "Тортата беше изненада за майка ми и тя остана очарована! Елегантна, сладка, но не прекалено. Препоръчвам я с чаша чай или бяло вино!",
          "Фантастичен десерт – толкова различен от обикновените торти. Хареса ми това, че е лека и не натоварва, идеална за лятна вечеря с приятели.",
        ],
      },
    ];

    for (const product of productsToAdd) {
      await addProductIfNotExists(product);
    }

    const productsAfter = await Product.find();
    console.log("Продукти в базата:", productsAfter);

    await mongoose.connection.close();
  } catch (err) {
    console.error(err);
  }
}

testConnection();
